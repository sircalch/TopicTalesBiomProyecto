{% extends 'base.html' %}
{% load static %}

{% block title %}Signos Vitales - TopicTales Biomédica{% endblock %}

{% block breadcrumb_items %}
<li class="breadcrumb-item"><a href="{% url 'patients:list' %}">Pacientes</a></li>
<li class="breadcrumb-item active">Signos Vitales</li>
{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-lg-10">
        <div class="card">
            <div class="card-header">
                <h5 class="mb-0">
                    <i class="bi bi-heart-pulse me-2"></i>Signos Vitales del Paciente
                </h5>
            </div>
            <div class="card-body">
                <!-- Vital Signs Form -->
                <form class="mb-4">
                    <div class="row">
                        <div class="col-md-3 mb-3">
                            <label class="form-label">Presión Arterial</label>
                            <input type="text" class="form-control" placeholder="120/80">
                        </div>
                        <div class="col-md-3 mb-3">
                            <label class="form-label">Frecuencia Cardíaca</label>
                            <input type="number" class="form-control" placeholder="72">
                        </div>
                        <div class="col-md-3 mb-3">
                            <label class="form-label">Temperatura (°C)</label>
                            <input type="number" step="0.1" class="form-control" placeholder="36.5">
                        </div>
                        <div class="col-md-3 mb-3">
                            <label class="form-label">Peso (kg)</label>
                            <input type="number" step="0.1" class="form-control" placeholder="70.5">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-3 mb-3">
                            <label class="form-label">Altura (cm)</label>
                            <input type="number" class="form-control" placeholder="175">
                        </div>
                        <div class="col-md-3 mb-3">
                            <label class="form-label">Saturación O2 (%)</label>
                            <input type="number" class="form-control" placeholder="98">
                        </div>
                        <div class="col-md-6 mb-3">
                            <label class="form-label">Notas</label>
                            <input type="text" class="form-control" placeholder="Observaciones adicionales">
                        </div>
                    </div>
                    <button type="button" class="btn btn-primary" onclick="saveVitalSigns()">Guardar Signos Vitales</button>
                </form>
                
                <!-- Recent Vital Signs -->
                <h6 class="mb-3">Registros Recientes</h6>
                <div class="table-responsive">
                    <table class="table table-hover">
                        <thead class="table-light">
                            <tr>
                                <th>Fecha/Hora</th>
                                <th>Presión</th>
                                <th>Frecuencia</th>
                                <th>Temperatura</th>
                                <th>Peso</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>01/08/2025 10:30</td>
                                <td>120/80</td>
                                <td>72 bpm</td>
                                <td>36.5°C</td>
                                <td>70.5 kg</td>
                                <td>
                                    <button class="btn btn-sm btn-outline-primary" onclick="editReading(1)" data-bs-toggle="tooltip" title="Editar registro">
                                        <i class="bi bi-pencil"></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="mt-3">
                    <a href="{% url 'patients:list' %}" class="btn btn-outline-secondary">
                        <i class="bi bi-arrow-left me-1"></i>Volver a Lista
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
function saveVitalSigns() {
    alert('Signos vitales guardados exitosamente');
}

function editReading(id) {
    alert(`Editando registro #${id}`);
}

// Initialize tooltips when document is ready
document.addEventListener('DOMContentLoaded', function() {
    const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
    tooltipTriggerList.map(function (tooltipTriggerEl) {
        return new bootstrap.Tooltip(tooltipTriggerEl);
    });
});
</script>
{% endblock %}